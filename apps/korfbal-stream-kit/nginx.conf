server {
    listen 80;
    server_name localhost;

    # Dit is de 'root' map waar Nginx de bestanden zoekt.
    # Deze MOET matchen met de COPY-bestemming in je Dockerfile.
    root /usr/share/nginx/html;
    index index.html index.htm;

    # Dit is de 'magic' voor React Router / single-page applications (SPA).
    location / {
        # 1. Probeert het bestand $uri (bv. /logo.png) te vinden.
        # 2. Probeert de map $uri/ (bv. /admin/) te vinden.
        # 3. Als beide mislukken, stuur /index.html (de React-app).
        try_files $uri $uri/ /index.html;
    }

    # Optioneel: Zorg dat Vite's output (met hashes) lang wordt gecachet.
    location ~* \.(?:css|js|png|jpg|jpeg|gif|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public";
    }
}
